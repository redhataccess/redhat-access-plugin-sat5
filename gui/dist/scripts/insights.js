"use strict";!function(){var a={UTILS:{}};a.UTILS.bootstrapLinks=function(){var c=function(c,d,e,f){var g="";if(f&&(g+="ng-hide"),$("#sidenav > ul").append('<li id="rha-insights-sidenav" class="'+g+'"><a href="/'+b.RHN+"/"+c+'">Insights</a></li>'),a.UTILS.isOnPage(c)){var h=$("#sidenav > ul > li .active")[0];h&&h.parentElement&&h.parentElement.parentElement&&"LI"===h.parentElement.parentElement.tagName&&h.parentElement.remove(),h=$("#sidenav > ul > li.active")[0],h&&h.nextElementSibling&&h.nextElementSibling.firstElementChild&&"UL"===h.nextElementSibling.firstElementChild.tagName&&h.nextElementSibling.remove(),$("#sidenav > ul > li").removeClass("active"),$("#sidenav > ul > li:last").addClass("active"),d||$("#spacewalk-content").append(e)}};a.UTILS.isOnSystemTabPage()?c(f.INSIGHTS,!0,"app.overview",!0):a.UTILS.isOnAdminPage()&&c(g.INSIGHTS,!1,"<rha-insights-sat5-admin/>",!1),window.RHA_INSIGHTS.config.enabled&&($("#rha-insights-sidenav").removeClass("ng-hide"),$("#rha-insights-system-details").removeClass("ng-hide"))},a.UTILS.isOnInsightsContentPage=function(){var b=!1;return(a.UTILS.isOnSystemListPage()||a.UTILS.isOnInsightsOverviewPage()||a.UTILS.isOnInsightsSystemDetailsPage()||a.UTILS.isOnInsightsAdminPage())&&(b=!0),b},a.UTILS.isOnInsightsAdminPage=function(){var b=!1;return a.UTILS.isOnPage(c)&&(b=!0),b},a.UTILS.isOnInsightsSystemDetailsPage=function(){var b=!1;return a.UTILS.isOnPage(e.INSIGHTS)&&(b=!0),b},a.UTILS.isOnInsightsEnabledPage=function(){var b=!1;return(a.UTILS.isOnSystemListPage()||a.UTILS.isOnSystemDetailsPage()||a.UTILS.isOnSystemOverviewPage()||a.UTILS.isOnAdminPage()||a.UTILS.isOnInsightsOverviewPage()||a.UTILS.isOnSystemTabPage()||a.UTILS.isOnHelpPage())&&(b=!0),b},a.UTILS.isOnPage=function(a){var c=!1;return 0===window.location.pathname.indexOf("/"+b.RHN+"/"+a)&&(c=!0),c},a.UTILS.isOnAdminPage=function(){return a.UTILS.isOnPage(b.ADMIN)},a.UTILS.isOnSystemTabPage=function(){var c=!1;return(a.UTILS.isOnPage(b.SYSTEMS)||a.UTILS.isOnPage(b.SSM)||a.UTILS.isOnPage(b.ACTIVATIONKEYS)||a.UTILS.isOnPage(b.PROFILES)||a.UTILS.isOnPage(b.KICKSTART)||a.UTILS.isOnPage(b.KEYS))&&(c=!0),c},a.UTILS.isOnSystemDetailsPage=function(){var b=!1;return(a.UTILS.isOnPage(e.OVERVIEW)||a.UTILS.isOnPage(e.PROPERTIES)||a.UTILS.isOnPage(e.HARDWARE)||a.UTILS.isOnPage(e.MIGRATE)||a.UTILS.isOnPage(e.NOTES)||a.UTILS.isOnPage(e.CUSTOM_INFO)||a.UTILS.isOnPage(e.INSIGHTS))&&(b=!0),b},a.UTILS.isOnInsightsOverviewPage=function(){var b=!1;return a.UTILS.isOnPage(f.INSIGHTS)&&(b=!0),b},a.UTILS.isOnSystemOverviewPage=function(){var b=!1,c=a.UTILS.showGroups();return a.UTILS.isOnPage(f.SYSTEM_OVERVIEW)&&!c&&(b=!0),b},a.UTILS.showGroups=function(){var a=window.location.search,b=a.indexOf("showgroups"),c=!1;if(-1!==b){var d="";d=a.substring(b,16),c=d.indexOf("true")>-1?!0:!1}return c},a.UTILS.isOnSystemListPage=function(){return(a.UTILS.isOnPage(f.SYSTEMS)||a.UTILS.isOnPage(f.PHYSICAL)||a.UTILS.isOnPage(f.OUT_OF_DATE)||a.UTILS.isOnPage(f.REQUIRING_REBOOT)||a.UTILS.isOnPage(f.UNGROUPED)||a.UTILS.isOnPage(f.INACTIVE)||a.UTILS.isOnSystemOverviewPage())&&!a.UTILS.showGroups()?!0:!1},a.UTILS.isOnHelpPage=function(){return a.UTILS.isOnPage(d.INDEX)?!0:!1},a.UTILS.getSystemTableSize=function(){var a=$(".table-responsive > table > tbody tr").length;return a},a.UTILS.getSystemPageSize=function(){return 500};var b={ADMIN:"admin",SYSTEMS:"systems",SYSTEM_DETAILS:"systems/details",SSM:"ssm",ACTIVATIONKEYS:"activationkeys",PROFILES:"profiles",KICKSTART:"kickstart",KEYS:"keys",RHN:"rhn",PROXY:"redhat_access"},c=b.ADMIN+"/Insights.do",d={INDEX:"help/index.do"},e={OVERVIEW:"systems/details/Overview.do",PROPERTIES:"systems/details/Edit.do",HARDWARE:"systems/details/SystemHardware.do",MIGRATE:"systems/details/SystemMigrate.do",NOTES:"systems/details/Notes.do",CUSTOM_INFO:"systems/details/ListCustomData.do",INSIGHTS:"systems/details/Insights.do"},f={SYSTEM_OVERVIEW:"systems/Overview.do",SYSTEMS:"systems/SystemList.do",PHYSICAL:"systems/PhysicalList.do",VIRTUAL:"systems/VirtualSystemsList.do",OUT_OF_DATE:"systems/OutOfDate.do",REQUIRING_REBOOT:"systems/RequiringReboot.do",EXTRA_PACKAGES:"systems/ExtraPackagesSystems.do",UNENTITLED:"systems/Unentitled.do",UNGROUPED:"systems/Ungrouped.do",INACTIVE:"systems/Inactive.do",RECENTLY_REGISTERED:"systems/Registered.do",PROXY:"systems/ProxyList.do",DUPLICATE:"systems/DuplicateIPList.do",CURRENCY:"systems/SystemCurrency.do",DETAILS_OVERVIEW:"systems/details/Overview.do",INSIGHTS:"systems/Insights.do",SOFTWARE_CRASHES_OVERVIEW:"systems/SoftwareCrashesOverview.do"},g={INSIGHTS:"admin/Insights.do"};window.ADMIN_PAGE_URLS=g,window.RHA_INSIGHTS=a,window.SYSTEM_PAGE_URLS=f,window.SAT5_ROOT_URLS=b,window.SYSTEM_DETAILS_PAGE_URLS=e,a.UTILS.isOnInsightsEnabledPage()&&$.get("/redhat_access/config/general").done(function(b){window.RHA_INSIGHTS.config=b,(b.enabled||a.UTILS.isOnAdminPage())&&(a.UTILS.isOnSystemListPage()&&$("#spacewalk-content").prepend('<div id="rha-insights-sat5-loading-alert" class="alert alert-info">Loading Red Hat Insights...</div>'),$.ajax({dataType:"script",cache:!0,url:"/javascript/insights.app.js"}).done(function(b,c){a.UTILS.isOnSystemListPage()?(a.UTILS.bootstrapLinks(),setTimeout(function(){angular.bootstrap(document,["sat5TelemetryApp"])},2e3)):a.UTILS.isOnInsightsContentPage()?(a.UTILS.bootstrapLinks(),angular.bootstrap(document,["sat5TelemetryApp"])):a.UTILS.bootstrapLinks()}))}).fail(function(a){console.log("Unable to GET Red Hat Insights config.")})}();
//# sourceMappingURL=insights.js.map